<!DOCTYPE HTML>
<html lang="en-US">
<head>
<meta charset="utf-8">
<title>TRex - Let's Back Tweets Up</title>

<style>
body {
	margin: 0; padding: 24px;
	background: #eee;
	font: 20px/32px Verdana, Geneva, sans-serif;
}
hgroup { margin: auto; text-align: right; }
h1, h6 { margin: 0; }
h1 { color: #c55; text-shadow: 3px 3px 0 #bbb; }
h6 { color: #567; text-shadow: 0 0 10px #69c; }
form { margin: 24px auto; }
label {
	margin: 24px auto; padding: 8px 32px;
	display: block; vertical-align: middle;
	color: #369; text-shadow: 0 0 2px #ccc;
}
input {
	color: #666; float: right;
	font: 20px/24px Verdana, Geneva, sans-serif;
}
label:hover, label.hasValue:hover {
	color: #fff; cursor: pointer;
	box-shadow: 5px 5px 20px #ccc;
	background: #69c; border: 1px solid #69c;
	background: linear-gradient(top, #ace, #69c);
	background: -o-linear-gradient(top, #ace, #69c);
	background: -ms-linear-gradient(top, #ace, #69c);
	background: -moz-linear-gradient(top, #ace, #69c);
	background: -webkit-linear-gradient(top, #ace, #69c);
}
label.hasValue {
	color: #fff; text-shadow: 0 0 2px #999, 0 0 5px #eee;
	box-shadow: 0 0 5px #999;
	background: #0c6; border: 1px solid #0c6;
	background: linear-gradient(top, #aec, #0c6);
	background: -o-linear-gradient(top, #aec, #0c6);
	background: -ms-linear-gradient(top, #aec, #0c6);
	background: -moz-linear-gradient(top, #aec, #0c6);
	background: -webkit-linear-gradient(top, #aec, #0c6);
}
input[type="text"] { width: 240px; }
input[type="number"] { width: 96px; }
input[type="checkbox"] { display: none; }
input[type="submit"] { color: #333; margin: 12px; padding: 8px 24px; }
form p {
	width: 320px; margin: 12px 48px; float: left;
	color: #c00; text-align: right;
	font: 12px Verdana, Geneva, sans-serif;
}
label.checkBox {
	width: 36%;
	margin: 12px auto;
	display: inline-block;
}
label.checkBox:nth-child(even) { float: left; }
label.checkBox:nth-child(odd) { float: right; }

@media screen and (min-width: 921px) {
hgroup { width: 640px; }
h1 { font-size: 96px; line-height: 96px; }
h6 { font-size: 12px; }
form {
	width: 640px; padding: 24px; display: table;
	background: #f8f8f8; border: 1px solid #ccc; border-radius: 5px;
}
label {
	width: 550px;
	border: 1px solid #eee; border-radius: 5px;
}
label.checkBox:nth-child(even) { margin-left: 12px; }
label.checkBox:nth-child(odd) { margin-right: 12px; }
}

@media screen and (max-width: 920px) {
hgroup { width: 100%; }
h1 { font-size: 80px; line-height: 80px; }
h6 { font-size: 12px; }
form { width: 100%; }
label {
	background-color: #f8f8f8;
	border: 1px solid #ccc; border-radius: 5px;
}
label.checkBox:nth-child(even) { margin-left: 0; }
label.checkBox:nth-child(odd) { margin-right: 0; }
}
</style>

<script>
function updateValue() {
	var count = document.getElementById("count").value;
	var node = document.getElementById("page");
	if ( !isNaN(count) && count != "" ) {
		var buffer = Math.ceil(3200/count);
		node.setAttribute("max", buffer);
		node.setAttribute("value", buffer);
		node.parentNode.setAttribute("title", "Maximum Value of P = " + buffer + ", for " + count + " tweets per page.");
	} else {
		document.getElementById("count").value = "";
		node.parentNode.setAttribute("title", "Maximum Value of P = 3200/N");
	}
}
function updateClass(element) {
	if ( element.type == "checkbox" ) {
		element.parentNode.classList.toggle("hasValue");
	}
	else if ( element.value != "" ) {
		if ( !element.parentNode.classList.contains("hasValue") ) {}
			element.parentNode.classList.add("hasValue");
	} else { element.parentNode.classList.remove("hasValue"); }
}
function appendListeners() {
	var inputs = document.getElementsByTagName("input");
	var count = inputs.length;
	for ( i=0; i<count; i++ ) {
		inputs.item(i).setAttribute("onChange", "updateClass(this);");
		if ( inputs.item(i).type != "checkbox" )
			inputs.item(i).setAttribute("onKeyUp", "updateClass(this);");
	}
}
</script>

</head>

<body onLoad="appendListeners();">
  <hgroup>
    <h1><span style="color: #69c;">T</span>Rex</h1>
    <h6>Back up your Twitter timeline upto 3200th tweet!</h6>
  </hgroup>
  <form id="inputForm" method="get" target="_blank" action="https://api.twitter.com/1/statuses/user_timeline.json">
    <label title="User ID">Twitter Handle
      <input type="text" id="screen_name" name="screen_name" />
    </label>
    <label title="Maximum Value of N = 200">Tweets Per Page of Timeline (N)
      <input type="number" id="count" name="count" max="200" step="1" size="4" />
    </label>
    <label title="Maximum Value of P = 3200/N">Page Number of the Timeline (P)
      <input type="number" id="page" name="page" min="1" step="1" size="4" onFocus="updateValue();" />
    </label>
    <label class="checkBox">Include Retweets<input type="checkbox" name="include_rts" value="1" /></label>
    <label class="checkBox">Include Tweet Entities<input type="checkbox" name="include_entities" value="1" /></label>
    <label class="checkBox">Exclude Replies<input type="checkbox" name="exclude_replies" value="1" /></label>
    <label class="checkBox">Discard User Info<input type="checkbox" name="trim_user" value="1" /></label>
    <label class="checkBox">Contributor Details<input type="checkbox" name="contributor_details" value="1" /></label>
    <p>To fetch more than last 20 tweets, make sure that you're logged into twitter with the mentioned User ID, from this browser!</p>
    <input type="submit" value="Fetch Tweets" />
  </form>
</body>
</html>
